{"version":3,"file":"api-WoSfe-uM.mjs","sources":["../../node_modules/camelcase/index.js","../../apps/systemtags/src/utils.ts","../../apps/systemtags/src/services/davClient.ts","../../apps/systemtags/src/logger.ts","../../apps/systemtags/src/services/api.ts"],"sourcesContent":["const UPPERCASE = /[\\p{Lu}]/u;\nconst LOWERCASE = /[\\p{Ll}]/u;\nconst LEADING_CAPITAL = /^[\\p{Lu}](?![\\p{Lu}])/gu;\nconst IDENTIFIER = /([\\p{Alpha}\\p{N}_]|$)/u;\nconst SEPARATORS = /[_.\\- ]+/;\n\nconst LEADING_SEPARATORS = new RegExp('^' + SEPARATORS.source);\nconst SEPARATORS_AND_IDENTIFIER = new RegExp(SEPARATORS.source + IDENTIFIER.source, 'gu');\nconst NUMBERS_AND_IDENTIFIER = new RegExp('\\\\d+' + IDENTIFIER.source, 'gu');\n\nconst preserveCamelCase = (string, toLowerCase, toUpperCase, preserveConsecutiveUppercase) => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\tlet isLastLastCharPreserved = false;\n\n\tfor (let index = 0; index < string.length; index++) {\n\t\tconst character = string[index];\n\t\tisLastLastCharPreserved = index > 2 ? string[index - 3] === '-' : true;\n\n\t\tif (isLastCharLower && UPPERCASE.test(character)) {\n\t\t\tstring = string.slice(0, index) + '-' + string.slice(index);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\tindex++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && LOWERCASE.test(character) && (!isLastLastCharPreserved || preserveConsecutiveUppercase)) {\n\t\t\tstring = string.slice(0, index - 1) + '-' + string.slice(index - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = toLowerCase(character) === character && toUpperCase(character) !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = toUpperCase(character) === character && toLowerCase(character) !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst preserveConsecutiveUppercase = (input, toLowerCase) => {\n\tLEADING_CAPITAL.lastIndex = 0;\n\n\treturn input.replaceAll(LEADING_CAPITAL, match => toLowerCase(match));\n};\n\nconst postProcess = (input, toUpperCase) => {\n\tSEPARATORS_AND_IDENTIFIER.lastIndex = 0;\n\tNUMBERS_AND_IDENTIFIER.lastIndex = 0;\n\n\treturn input\n\t\t.replaceAll(NUMBERS_AND_IDENTIFIER, (match, pattern, offset) => ['_', '-'].includes(input.charAt(offset + match.length)) ? match : toUpperCase(match))\n\t\t.replaceAll(SEPARATORS_AND_IDENTIFIER, (_, identifier) => toUpperCase(identifier));\n};\n\nexport default function camelCase(input, options) {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = {\n\t\tpascalCase: false,\n\t\tpreserveConsecutiveUppercase: false,\n\t\t...options,\n\t};\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tconst toLowerCase = options.locale === false\n\t\t? string => string.toLowerCase()\n\t\t: string => string.toLocaleLowerCase(options.locale);\n\n\tconst toUpperCase = options.locale === false\n\t\t? string => string.toUpperCase()\n\t\t: string => string.toLocaleUpperCase(options.locale);\n\n\tif (input.length === 1) {\n\t\tif (SEPARATORS.test(input)) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn options.pascalCase ? toUpperCase(input) : toLowerCase(input);\n\t}\n\n\tconst hasUpperCase = input !== toLowerCase(input);\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input, toLowerCase, toUpperCase, options.preserveConsecutiveUppercase);\n\t}\n\n\tinput = input.replace(LEADING_SEPARATORS, '');\n\tinput = options.preserveConsecutiveUppercase ? preserveConsecutiveUppercase(input, toLowerCase) : toLowerCase(input);\n\n\tif (options.pascalCase) {\n\t\tinput = toUpperCase(input.charAt(0)) + input.slice(1);\n\t}\n\n\treturn postProcess(input, toUpperCase);\n}\n","/**\n * @copyright 2023 Christopher Ng <chrng8@gmail.com>\n *\n * @author Christopher Ng <chrng8@gmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport camelCase from 'camelcase'\n\nimport type { DAVResultResponseProps } from 'webdav'\n\nimport type { BaseTag, ServerTag, Tag, TagWithId } from './types.js'\n\nexport const defaultBaseTag: BaseTag = {\n\tuserVisible: true,\n\tuserAssignable: true,\n\tcanAssign: true,\n}\n\nexport const parseTags = (tags: { props: DAVResultResponseProps }[]): TagWithId[] => {\n\treturn tags.map(({ props }) => Object.fromEntries(\n\t\tObject.entries(props)\n\t\t\t.map(([key, value]) => [camelCase(key), camelCase(key) === 'displayName' ? String(value) : value]),\n\t)) as TagWithId[]\n}\n\n/**\n * Parse id from `Content-Location` header\n * @param url URL to parse\n */\nexport const parseIdFromLocation = (url: string): number => {\n\tconst queryPos = url.indexOf('?')\n\tif (queryPos > 0) {\n\t\turl = url.substring(0, queryPos)\n\t}\n\n\tconst parts = url.split('/')\n\tlet result\n\tdo {\n\t\tresult = parts[parts.length - 1]\n\t\tparts.pop()\n\t\t// note: first result can be empty when there is a trailing slash,\n\t\t// so we take the part before that\n\t} while (!result && parts.length > 0)\n\n\treturn Number(result)\n}\n\nexport const formatTag = (initialTag: Tag | ServerTag): ServerTag => {\n\tconst tag: any = { ...initialTag }\n\tif (tag.name && !tag.displayName) {\n\t\treturn tag\n\t}\n\ttag.name = tag.displayName\n\tdelete tag.displayName\n\n\treturn tag\n}\n","/**\n * @copyright 2023 Christopher Ng <chrng8@gmail.com>\n *\n * @author Christopher Ng <chrng8@gmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { createClient } from 'webdav'\nimport { generateRemoteUrl } from '@nextcloud/router'\nimport { getRequestToken } from '@nextcloud/auth'\n\nconst rootUrl = generateRemoteUrl('dav')\n\nexport const davClient = createClient(rootUrl, {\n\theaders: {\n\t\trequesttoken: getRequestToken() ?? '',\n\t},\n})\n","/**\n * @copyright 2023 Christopher Ng <chrng8@gmail.com>\n *\n * @author Christopher Ng <chrng8@gmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { getLoggerBuilder } from '@nextcloud/logger'\n\nexport const logger = getLoggerBuilder()\n\t.setApp('systemtags')\n\t.detectUser()\n\t.build()\n","/**\n * @copyright 2023 Christopher Ng <chrng8@gmail.com>\n *\n * @author Christopher Ng <chrng8@gmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport type { FileStat, ResponseDataDetailed } from 'webdav'\nimport type { ServerTag, Tag, TagWithId } from '../types.js'\n\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\nimport { translate as t } from '@nextcloud/l10n'\n\nimport { davClient } from './davClient.js'\nimport { formatTag, parseIdFromLocation, parseTags } from '../utils'\nimport { logger } from '../logger.js'\n\nexport const fetchTagsPayload = `<?xml version=\"1.0\"?>\n<d:propfind  xmlns:d=\"DAV:\" xmlns:oc=\"http://owncloud.org/ns\">\n\t<d:prop>\n\t\t<oc:id />\n\t\t<oc:display-name />\n\t\t<oc:user-visible />\n\t\t<oc:user-assignable />\n\t\t<oc:can-assign />\n\t</d:prop>\n</d:propfind>`\n\nexport const fetchTags = async (): Promise<TagWithId[]> => {\n\tconst path = '/systemtags'\n\ttry {\n\t\tconst { data: tags } = await davClient.getDirectoryContents(path, {\n\t\t\tdata: fetchTagsPayload,\n\t\t\tdetails: true,\n\t\t\tglob: '/systemtags/*', // Filter out first empty tag\n\t\t}) as ResponseDataDetailed<Required<FileStat>[]>\n\t\treturn parseTags(tags)\n\t} catch (error) {\n\t\tlogger.error(t('systemtags', 'Failed to load tags'), { error })\n\t\tthrow new Error(t('systemtags', 'Failed to load tags'))\n\t}\n}\n\nexport const fetchLastUsedTagIds = async (): Promise<number[]> => {\n\tconst url = generateUrl('/apps/systemtags/lastused')\n\ttry {\n\t\tconst { data: lastUsedTagIds } = await axios.get<string[]>(url)\n\t\treturn lastUsedTagIds.map(Number)\n\t} catch (error) {\n\t\tlogger.error(t('systemtags', 'Failed to load last used tags'), { error })\n\t\tthrow new Error(t('systemtags', 'Failed to load last used tags'))\n\t}\n}\n\n/**\n * @return created tag id\n */\nexport const createTag = async (tag: Tag | ServerTag): Promise<number> => {\n\tconst path = '/systemtags'\n\tconst tagToPost = formatTag(tag)\n\ttry {\n\t\tconst { headers } = await davClient.customRequest(path, {\n\t\t\tmethod: 'POST',\n\t\t\tdata: tagToPost,\n\t\t})\n\t\tconst contentLocation = headers.get('content-location')\n\t\tif (contentLocation) {\n\t\t\treturn parseIdFromLocation(contentLocation)\n\t\t}\n\t\tlogger.error(t('systemtags', 'Missing \"Content-Location\" header'))\n\t\tthrow new Error(t('systemtags', 'Missing \"Content-Location\" header'))\n\t} catch (error) {\n\t\tlogger.error(t('systemtags', 'Failed to create tag'), { error })\n\t\tthrow new Error(t('systemtags', 'Failed to create tag'))\n\t}\n}\n\nexport const updateTag = async (tag: TagWithId): Promise<void> => {\n\tconst path = '/systemtags/' + tag.id\n\tconst data = `<?xml version=\"1.0\"?>\n\t<d:propertyupdate  xmlns:d=\"DAV:\" xmlns:oc=\"http://owncloud.org/ns\">\n\t\t<d:set>\n\t\t\t<d:prop>\n\t\t\t\t<oc:display-name>${tag.displayName}</oc:display-name>\n\t\t\t\t<oc:user-visible>${tag.userVisible}</oc:user-visible>\n\t\t\t\t<oc:user-assignable>${tag.userAssignable}</oc:user-assignable>\n\t\t\t</d:prop>\n\t\t</d:set>\n\t</d:propertyupdate>`\n\n\ttry {\n\t\tawait davClient.customRequest(path, {\n\t\t\tmethod: 'PROPPATCH',\n\t\t\tdata,\n\t\t})\n\t} catch (error) {\n\t\tlogger.error(t('systemtags', 'Failed to update tag'), { error })\n\t\tthrow new Error(t('systemtags', 'Failed to update tag'))\n\t}\n}\n\nexport const deleteTag = async (tag: TagWithId): Promise<void> => {\n\tconst path = '/systemtags/' + tag.id\n\ttry {\n\t\tawait davClient.deleteFile(path)\n\t} catch (error) {\n\t\tlogger.error(t('systemtags', 'Failed to delete tag'), { error })\n\t\tthrow new Error(t('systemtags', 'Failed to delete tag'))\n\t}\n}\n"],"names":["UPPERCASE","LOWERCASE","LEADING_CAPITAL","IDENTIFIER","SEPARATORS","LEADING_SEPARATORS","SEPARATORS_AND_IDENTIFIER","NUMBERS_AND_IDENTIFIER","preserveCamelCase","string","toLowerCase","toUpperCase","preserveConsecutiveUppercase","isLastCharLower","isLastCharUpper","isLastLastCharUpper","isLastLastCharPreserved","index","character","input","match","postProcess","pattern","offset","_","identifier","camelCase","options","x","defaultBaseTag","parseTags","tags","props","key","value","parseIdFromLocation","url","queryPos","parts","result","formatTag","initialTag","tag","_a","rootUrl","generateRemoteUrl","davClient","createClient","getRequestToken","logger","getLoggerBuilder","fetchTagsPayload","fetchTags","path","error","t","fetchLastUsedTagIds","generateUrl","lastUsedTagIds","axios","createTag","tagToPost","headers","contentLocation","updateTag","data","deleteTag"],"mappings":"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","x_google_ignoreList":[0]}